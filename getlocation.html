
<html>
<head>
    <meta charset="utf-8">
    <title>Geocoding Page</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script>
  function getLocation() {
      if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(savePosition, positionError, {timeout:10000});
      } else {
          //Geolocation is not supported by this browser
      }
  }

  // handle the error here
  function positionError(error) {
      var errorCode = error.code;
      var message = error.message;

      alert(message);
  }





  function savePosition(position) {
            var location = "location=";
            var yeahspace = '';
            var lat_clean = encodeURIComponent(position.coords.latitude);
            var lng_clean = encodeURIComponent(position.coords.longitude);
            $.get("results.php?"+ location, {lat:position.coords.latitude, lng: position.coords.longitude});
            console.log(lat_clean);
            console.log(lng_clean);

            var instagramURL = "https://api.instagram.com/v1/media/search?lat="+lat_clean+
              "&lng="+lng_clean+"&client_id=4173458cee254a64b15ba24f9e5a40fc";
            document.write('<a  href="' + instagramURL + '"> Link to JSON </a>');

            //var InstaData = JSON.parse(instagramURL);
            //var results = document.getElementById("results");
            //results.innerHTML = InstaData.link;

            console.log(instagramURL);


  }






  </script>
</head>
<body>
    <button onclick="getLocation();">Get My Location</button>
    <div id="results"></div>

    <div id="images"></div>

</body>
</html>
